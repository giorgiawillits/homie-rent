<div class="form-group m-b-xxs">
  <div class="col-md-3 control-label">
    <label for="name">Name</label>
  </div>
  <div class="col-md-9" style='margin-bottom:25px;'>
    <div class="input-group">
      <input id="name" type="text"
             value="<%= @expense.name if @expense %>"
             name="expense[name]"
             class="form-control"
             <%= 'readonly' if @show %>  />
    </div>
  </div>
</div>

<div class="form-group m-b-xxs">
  <div class="col-md-3 control-label">
    <label for="amount">Amount</label>
  </div>
  <div class="col-md-9" style='margin-bottom:25px;'>
    <div class="input-group">
      <span class="input-group-addon">$</span>
      <input id="amount" type="text" class="form-control"
             value="<%= @expense.amount_formatted_plain if @expense %>"
             name="expense[amount]"
             <%= 'readonly' if @show %>/>
    </div>
  </div>
</div>

<div class="form-group m-b-xxs">
  <div class="col-md-3 control-label">
    <label for="date">Date</label>
  </div>
  <div class="col-md-9" style='margin-bottom:25px;'>
    <div class="input-group date">

      <input type="text" class='datepicker form-control'
             data-date="<%= @expense.date if @expense %>"
             value="<%= @expense.date_formatted if @expense %>"
             name="expense[date]"
             style="max-width:350px;"
             <%= 'readonly' if @show %>  />
    </div>
  </div>
</div>

<div class="form-group m-b-xxs">
  <div class="col-md-3 control-label">
    <label for="category">Category</label>
  </div>
  <div class="col-md-9" style='margin-bottom:25px;'>
    <div class="input-group">
      <input id="category" type="text"
             value="<%= @expense.category if @expense %>"
             name="expense[category]"
             class="form-control"
             <%= 'readonly' if @show %> />
    </div>
  </div>
</div>

<div class="form-group m-b-xxs">
  <div class="col-md-3 control-label">
    <label for="details">Details</label>
  </div>
  <div class="col-md-9" style='margin-bottom:25px;'>
    <div class="input-group">
      <input id="details" type="text"
             value="<%= @expense.details if @expense %>"
             name="expense[details]"
             class="form-control"/>
             <%= 'readonly' if @show %>
    </div>
  </div>
</div>

<div class="form-group m-b-xxs">
  <div class="col-md-3 control-label">
    <label for="deadline">Deadline</label>
  </div>
  <div class="col-md-9" style='margin-bottom:25px;'>
    <div class="input-group">
      <input class="datepicker form-control" id="deadline" type="text"
             data-date="<%= @expense.date if @expense %>"
             value="<%= @expense.deadline_formatted if @expense %>"
             name="expense[deadline]"
             <%= 'readonly' if @show %> />
    </div>
  </div>
</div>
<script>
  $( document ).ready(function() {
    $('#amount').maskMoney();
    $(".datepicker").datepicker({
      orientation: "bottom auto",
      format: {
          /*
           * Say our UI should display a week ahead,
           * but textbox should store the actual date.
           * This is useful if we need UI to select local dates,
           * but store in UTC
           */
          toDisplay: function (date, format, language) {
              var m = moment(new Date(date)).add(1, 'days');
              return m.format('ddd, MMM Do');
          },
          toValue: function (date, format, language) {
          		var m = moment(new Date(date));
              return m.toISOString();
          }
      },
      todayHighlight: true
    });
  });
</script>
